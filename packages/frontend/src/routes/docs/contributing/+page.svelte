<script lang="ts">
    import Breadcrumbs from "$lib/components/docs/Breadcrumbs.svelte";
    import {
        Card,
        CardContent,
        CardHeader,
        CardTitle,
    } from "$lib/components/ui/card";
    import { GitPullRequest, Bug, Lightbulb, Code } from "lucide-svelte";
</script>

<div class="docs-content">
    <Breadcrumbs />

    <h1 class="text-3xl font-bold mb-4">Contributing</h1>
    <p class="text-lg text-muted-foreground mb-8">
        Thank you for considering contributing to LogWard! We welcome
        contributions from the community.
    </p>

    <h2
        id="ways-to-contribute"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Ways to Contribute
    </h2>

    <div class="mb-8 grid md:grid-cols-2 gap-4">
        <Card>
            <CardHeader>
                <CardTitle class="flex items-center gap-2 text-base">
                    <Bug class="w-5 h-5 text-destructive" />
                    Report Bugs
                </CardTitle>
            </CardHeader>
            <CardContent class="text-sm text-muted-foreground">
                Found a bug? Open an issue on GitHub with detailed reproduction
                steps and expected vs actual behavior.
            </CardContent>
        </Card>

        <Card>
            <CardHeader>
                <CardTitle class="flex items-center gap-2 text-base">
                    <Lightbulb class="w-5 h-5 text-yellow-500" />
                    Suggest Features
                </CardTitle>
            </CardHeader>
            <CardContent class="text-sm text-muted-foreground">
                Have an idea? Create a feature request issue describing the use
                case and expected functionality.
            </CardContent>
        </Card>

        <Card>
            <CardHeader>
                <CardTitle class="flex items-center gap-2 text-base">
                    <Code class="w-5 h-5 text-primary" />
                    Submit Code
                </CardTitle>
            </CardHeader>
            <CardContent class="text-sm text-muted-foreground">
                Fix bugs or implement features by submitting pull requests.
                Follow our coding standards and include tests.
            </CardContent>
        </Card>

        <Card>
            <CardHeader>
                <CardTitle class="flex items-center gap-2 text-base">
                    <GitPullRequest class="w-5 h-5 text-green-500" />
                    Improve Docs
                </CardTitle>
            </CardHeader>
            <CardContent class="text-sm text-muted-foreground">
                Help improve documentation by fixing typos, adding examples, or
                clarifying explanations.
            </CardContent>
        </Card>
    </div>

    <h2
        id="development-setup"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Development Setup
    </h2>

    <div class="mb-8">
        <ol class="space-y-3 ml-6">
            <li>
                <strong>1. Fork the repository</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Click "Fork" on GitHub to create your own copy
                </p>
            </li>
            <li>
                <strong>2. Clone your fork</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    <code
                        >git clone https://github.com/your-username/logward.git</code
                    >
                </p>
            </li>
            <li>
                <strong>3. Create a branch</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    <code>git checkout -b feature/your-feature-name</code>
                </p>
            </li>
            <li>
                <strong>4. Install dependencies</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    <code>pnpm install</code>
                </p>
            </li>
            <li>
                <strong>5. Make your changes</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Write code, add tests, update documentation
                </p>
            </li>
            <li>
                <strong>6. Test your changes</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    <code>pnpm test && pnpm typecheck</code>
                </p>
            </li>
            <li>
                <strong>7. Commit and push</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    <code>git commit -m "feat: add new feature"</code><br />
                    <code>git push origin feature/your-feature-name</code>
                </p>
            </li>
            <li>
                <strong>8. Create pull request</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Open a PR on GitHub with a clear description of your changes
                </p>
            </li>
        </ol>
    </div>

    <h2
        id="coding-standards"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Coding Standards
    </h2>

    <div class="mb-8 space-y-4">
        <Card>
            <CardHeader>
                <CardTitle class="text-base">TypeScript</CardTitle>
            </CardHeader>
            <CardContent class="text-sm space-y-2">
                <ul class="ml-6 space-y-1 text-muted-foreground">
                    <li>Use strict TypeScript - no <code>any</code> types</li>
                    <li>Define interfaces for all data structures</li>
                    <li>Use Zod for runtime validation</li>
                    <li>Follow existing code patterns</li>
                </ul>
            </CardContent>
        </Card>

        <Card>
            <CardHeader>
                <CardTitle class="text-base">Commit Messages</CardTitle>
            </CardHeader>
            <CardContent class="text-sm space-y-2">
                <p class="text-muted-foreground">
                    Follow Conventional Commits:
                </p>
                <ul
                    class="ml-6 space-y-1 text-muted-foreground font-mono text-xs"
                >
                    <li><code>feat: add new feature</code></li>
                    <li><code>fix: resolve bug in ingestion</code></li>
                    <li><code>docs: update API documentation</code></li>
                    <li><code>refactor: simplify query logic</code></li>
                    <li><code>test: add alert tests</code></li>
                </ul>
            </CardContent>
        </Card>

        <Card>
            <CardHeader>
                <CardTitle class="text-base">Testing</CardTitle>
            </CardHeader>
            <CardContent class="text-sm space-y-2">
                <ul class="ml-6 space-y-1 text-muted-foreground">
                    <li>Write tests for new features</li>
                    <li>Maintain or improve code coverage</li>
                    <li>Test edge cases and error handling</li>
                    <li>Run full test suite before submitting PR</li>
                </ul>
            </CardContent>
        </Card>
    </div>

    <h2
        id="pull-request-process"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Pull Request Process
    </h2>

    <div class="mb-8">
        <ol class="space-y-3 ml-6">
            <li>
                <strong>1. Update documentation</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Update relevant docs if you changed API or added features
                </p>
            </li>
            <li>
                <strong>2. Add tests</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Include unit/integration tests for new functionality
                </p>
            </li>
            <li>
                <strong>3. Pass CI checks</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Ensure all automated tests and linting pass
                </p>
            </li>
            <li>
                <strong>4. Describe changes</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Write a clear PR description explaining what and why
                </p>
            </li>
            <li>
                <strong>5. Request review</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Wait for maintainer review and address feedback
                </p>
            </li>
            <li>
                <strong>6. Merge</strong>
                <p class="text-sm text-muted-foreground mt-1">
                    Once approved, a maintainer will merge your PR
                </p>
            </li>
        </ol>
    </div>

    <h2
        id="code-of-conduct"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Code of Conduct
    </h2>

    <div class="mb-8">
        <Card>
            <CardContent class="pt-6 text-sm text-muted-foreground">
                <p class="mb-3">
                    We are committed to providing a welcoming and inclusive
                    environment. We expect all contributors to:
                </p>
                <ul class="ml-6 space-y-1">
                    <li>Be respectful and inclusive in all interactions</li>
                    <li>Accept constructive criticism gracefully</li>
                    <li>Focus on what's best for the community</li>
                    <li>Show empathy towards other community members</li>
                </ul>
            </CardContent>
        </Card>
    </div>

    <h2
        id="questions"
        class="text-2xl font-semibold mb-4 scroll-mt-20 border-b border-border pb-2"
    >
        Questions?
    </h2>

    <div>
        <p class="text-muted-foreground mb-4">
            If you have questions about contributing, feel free to:
        </p>
        <ul class="ml-6 space-y-2 text-muted-foreground">
            <li>Open a GitHub Discussion for general questions</li>
            <li>Create an issue for bug reports or feature requests</li>
            <li>Join our community Discord server (coming soon)</li>
        </ul>
    </div>
</div>

<style>
    .docs-content :global(code:not(pre code)) {
        @apply px-1.5 py-0.5 bg-muted rounded text-sm font-mono;
    }
</style>
